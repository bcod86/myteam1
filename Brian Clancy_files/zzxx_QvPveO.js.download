if (self.CavalryLogger) { CavalryLogger.start_js(["liXH5"]); }

__d("BasicTypeaheadLoggerJSConstants",[],(function(a,b,c,d,e,f){e.exports={EventNames:{ADS_TARGETING:"ads_targeting",MENTIONS:"mentions",TINDER_MENTIONS:"tinder_mentions",REACT_COMPOSER_MENTIONS:"react_composer_mentions",PHOTO_TAGGER:"photo-tagger",PROFILE:"profile",TIMELINE_COLLECTION:"timeline_collection",OGCOMPOSER_TAGGER:"ogcomposer-tagger",PLACES_TYPEAHEAD:"places_typeahead",CHAT_MENTIONS_ENTITIES:"chat_mentions_entities",REACT_COMPOSER_OG_TAGGER:"react_composer_og_tagger",REACT_SHARE_DIALOG_OG_TAGGER:"react_share_dialog_og_tagger",REACT_COMPOSER_LOCATION_TAGGER:"react_composer_location_tagger",REACT_SHARE_DIALOG_LOCATION_TAGGER:"react_share_dialog_location_tagger",GROUP_SEARCH_TA:"group_search_ta"},Fields:{EVENT:"event",STRATEGY_NAME:"strategy_name",HAS_INTENT_MENTION:"has_intent_mention",USER_ID:"userid",SELECTED_POSITION:"selected_position",SELECTED_ID:"selected_id",QUERIES_HISTORY:"queries_history",NUM_QUERIES:"num_queries",CANDIDATE_RESULTS:"candidate_results",CANDIDATE_RESULTS_ADS:"candidate_results_ads",QUERY:"query",LAST_NOT_BACKSPACED_QUERY:"last_not_backspaced_query",REQUEST_ID:"request_id",REQUEST_IDS_HISTORY:"request_ids_history",SESSION_ID:"session_id",SESSION_TIME:"session_time",NORMALIZED_BACKEND_QUERY:"normalized_backend_query",SELECTED_TYPE:"selected_type",SELECTED_QUERY:"selected_query",SELECTED_ORIGINAL_ID:"selected_original_id",SELECTED_SCORE:"selected_score",PLACE_ID:"place_id",CLIENT_TIME:"client_time",TIMEZONE:"timezone",TIMEZONE_ID:"timezone_id",ACTION_TYPE_ID:"action_type_id",SELECTED_ID_INT:"selected_id_int",CLICK:"click",FILTERED_CANDIDATE_RESULTS:"filtered_candidate_results",FBTYPE:"fbtype",PAGE:"page",PAGE_VISIBILITY_DUMMY:"page_visibility_dummy",SEARCH_VERSION:"search_version",GK_STATUS:"gk_status",QE_GROUP:"qe_group",EVENT_SPECIFIC_DATA:"event_specific_data",REF:"ref",SOURCE:"source",GEO_PROFILE_COUNTRY:"geo_profile_country",CURRENT_GEO_PROFILE:"current_geo_profile",CURRENT_CITY_GLOBAL_ID:"current_city_global_id",CURRENT_REGION_ID:"current_region_id",CURRENT_COUNTRY:"current_country",COLLECTION_DATA:"collection_data",FILTERED_COUNT:"filtered_count",GOOD_CLICK:"good_click",GOOD_CLICK_INT:"good_click_int",FALLBACK_CLICK:"fallback_click",ENTITY_CLICK:"entity_click",ENTITY_CLICK_INT:"entity_click_int",HAD_RESULTS:"had_results",NUM_RESULTS:"num_results",PAGE_CATEGORY:"page_category",PAGE_VISIBILITY:"page_visibility",PAGE_IS_AUTHENTIC:"page_is_authentic",PRECISION:"precision",EVENT_CONTEXT:"event_context",PAGE_SOURCE:"page_source",ENTITY_TYPE:"entity_type",EVENT_VALID:"event_valid",QUERY_LENGTH:"query_length",FIRST_RESULT:"first_result",HAD_DUPLICATES:"had_duplicates",COMPLETE_APP_COUNT:"complete_app_count",APP_COLLECTION_SIZE:"app_collection_size",COLLECTION_SIZE:"collection_size",NON_EMPTY_FRIENDS_COUNT:"non_empty_friends_count",CAROUSEL_COLLECTION_SIZE:"carousel_collection_size",QUALITY_ACCURACY:"quality_accuracy",SELECTED_WITH_MOUSE:"selected_with_mouse",AVG_QUERY_LATENCY:"avg_query_latency",IS_EMPLOYEE:"is_employee",PROFILE_SECTION:"profile_section",TYPEAHEAD_SOURCE:"typeahead_source",MINUTIAE_COMPOSER_VERSION:"minutiae_composer_version",LAST_QUERY_LATENCY:"last_query_latency",AD_ACCOUNT_ID:"ad_account_id",SUGGESTION_MODE:"suggestion_mode",NEXT_SUGGESTION_MODE:"next_suggestion_mode"},MinutiaeComposerVersions:{LEGACY:"legacy",LEGACY_TOKENIZED:"legacy_tokenized",REACT:"react"}}}),null);
__d("TaggingLimits",[],(function(a,b,c,d,e,f){e.exports={MAX_WITH_TAGS:100,MAX_SPONSOR_TAGS:1}}),null);
__d("ReactComposerVideoCopyrightDialog.react",["fbt","LayerHideOnEscape","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),this.$2=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),b}a.prototype.componentDidMount=function(){"use strict";this.refs.dialog.layer&&this.refs.dialog.layer.subscribe("hide",this.$1)};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialog.react"),{ref:"dialog",shown:this.props.shown,width:500,layerHideOnBlur:!1,behaviors:{LayerHideOnEscape:b("LayerHideOnEscape")},key:"dialog"},b("React").createElement(b("XUIDialogBody.react"),null,g._("Please confirm that the content you are uploading does not infringe upon the intellectual property rights of any third party and that you have secured all rights necessary to copy, display and publicly perform the uploaded content (including any musical compositions or sound recordings included in the content) on Facebook.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIButton.react"),{use:"confirm",onClick:this.props.onConfirm,label:g._("Confirm")}),b("React").createElement(b("XUIButton.react"),{onClick:this.props.onCancel,label:g._("Cancel")})))};a.propTypes={shown:c.bool,onConfirm:c.func,onCancel:c.func};e.exports=a}),null);
__d("ReactComposerLocationAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},"ReactComposerLocationAttachmentActionType")}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/location/attachment/",{composer_id:{type:"String",required:!0},location_id:{type:"String",required:!0},target_id:{type:"String",required:!0}})}),null);
__d("ReactComposerLocationAttachmentStore",["AsyncRequest","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerLocationAttachmentActionType","ReactComposerStoreBase","XReactComposerLocationAttachmentController"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";__p&&__p();var a;g.constructor.call(this,function(){return{isEnabled:!1,isFetching:!1,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:!1,sourceAttachment:null}},function(c){__p&&__p();switch(c.type){case b("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED:a&&a.$ReactComposerLocationAttachmentStore1(c);break;case b("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT:a&&a.$ReactComposerLocationAttachmentStore2(c);break;case b("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT:a&&a.$ReactComposerLocationAttachmentStore3(c);break;case b("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP:a&&a.$ReactComposerLocationAttachmentStore4(c);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:a&&a.$ReactComposerLocationAttachmentStore5(c);break}});a=this}a.prototype.isEnabled=function(a){"use strict";return this.getComposerData(a).isEnabled};a.prototype.getMarkup=function(a){"use strict";return this.getComposerData(a).markup};a.prototype.getMinutiaeTaggedPlace=function(a){"use strict";return this.getComposerData(a).minutiaeTaggedPlace};a.prototype.getIsTimeline=function(a){"use strict";return this.getComposerData(a).isTimeline};a.prototype.isFetching=function(a){"use strict";return this.getComposerData(a).isFetching};a.prototype.$ReactComposerLocationAttachmentStore1=function(a){"use strict";a=this.validateAction(a,["composerID","enabled"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.isEnabled=a};a.prototype.$ReactComposerLocationAttachmentStore2=function(a){"use strict";__p&&__p();a=this.validateAction(a,["composerID","locationID","targetID"]);var c=a[0],d=a[1];a=a[2];if(!this.isEnabled(c))return;var e=this.getComposerData(c);e.isFetching=!0;d=b("XReactComposerLocationAttachmentController").getURIBuilder().setString("composer_id",c).setString("location_id",d).setString("target_id",a).getURI();e.pendingRequest=new(b("AsyncRequest"))(d).setFinallyHandler(function(){e.isFetching=!1,e.pendingRequest=null,this.emitChange(c)}.bind(this));e.pendingRequest.send();this.emitChange(c)};a.prototype.$ReactComposerLocationAttachmentStore3=function(a){"use strict";a=this.validateAction(a,["composerID","objectID","isTimeline"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.minutiaeTaggedPlace=c;d.isTimeline=a;this.emitChange(b)};a.prototype.$ReactComposerLocationAttachmentStore4=function(a){"use strict";a=this.validateAction(a,["composerID","markup"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.markup=a;d.sourceAttachment=b("ReactComposerAttachmentStore").getSelectedAttachmentID(c);this.emitChange(c)};a.prototype.$ReactComposerLocationAttachmentStore5=function(a){"use strict";__p&&__p();var c=this.validateAction(a,["composerID","id"]),d=c[0];c=c[1];var e=this.getComposerData(d);if(c===b("ReactComposerAttachmentType").STATUS||a.proxiedAttachmentID===e.sourceAttachment||e.sourceAttachment===null)return;e.markup=null;e.isFetching=!1;e.pendingRequest&&e.pendingRequest.abandon();this.emitChange(d)};e.exports=new a()}),null);
__d("ReactComposerLocationAttachmentActions",["ReactComposerDispatcher","ReactComposerLocationAttachmentActionType","ReactComposerLocationAttachmentStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerLocationAttachmentStore");a.prototype.enabled=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED,enabled:c})};a.prototype.fetchLocationAttachment=function(a,c,d){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT,locationID:c,targetID:d})};a.prototype.setMinutiaeActionContext=function(a,c,d){"use strict";a={composerID:a,type:b("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT,objectID:c,isTimeline:d};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setMarkup=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP,markup:c})};function a(){"use strict"}e.exports=new a()}),null);
__d("ReactComposerMinutiaeAttachmentActions",["ReactComposerDispatcher","ReactComposerMinutiaeAttachmentActionType","ReactComposerMinutiaeAttachmentStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerMinutiaeAttachmentStore");a.prototype.fetchMinutiaeAttachment=function(a,c,d,e,f,g){"use strict";a={composerID:a,type:b("ReactComposerMinutiaeAttachmentActionType").FETCH_ATTACHMENT,actionID:c,objectID:d,targetID:e,actorID:f,isTimeline:g};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setExplicitLocation=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerMinutiaeAttachmentActionType").SET_EXPLICIT_LOCATION,explicitLocation:c};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setMarkup=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerMinutiaeAttachmentActionType").SET_MARKUP,markup:c};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setHideAttachment=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerMinutiaeAttachmentActionType").SET_HIDE_OBJECT_ATTACHMENT,hideAttachment:c};b("ReactComposerDispatcher").dispatch(a)};function a(){"use strict"}e.exports=new a()}),null);
__d("ReactComposerTaggerButtons.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_47gt"},this.props.children)};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ShareDialogTagSummary.react",["cx","Arbiter","AsyncRequest","Parent","React","emptyFunction","ifRequired","immutable","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;var i=!0;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={socialText:null},this.$1=undefined,this.$2=undefined,this.$4=function(a){this.setState({socialText:a.getPayload().rendered})}.bind(this),this.$5=function(a){__p&&__p();a=a.target;if(b("Parent").byClass(a,"withToken"))this.props.withTokenClick();else if(b("Parent").byClass(a,"placeToken"))this.props.placeTokenClick();else if(b("Parent").byClass(a,"og_composer_object")){var c=this.props.taggerData;!c.get("action")&&!c.get("object")?c.get("politicalRepresentativeInfo").politicalRepresentative?this.props.politicalRepresentativeClick():c.get("tagEventData").eventID&&this.props.tagEventClick():this.props.ogObjectClick()}else b("Parent").byClass(a,"ogPickerIcon")||(b("Parent").byClass(a,"localAlertToken")?this.props.localAlertTokenClick():this.props.onTagSummaryClick())}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$1=b("Arbiter").subscribe("composer/ogIconPickerOpened",function(event,a){i=!1}),this.$3(this.props)};a.prototype.componentWillUnmount=function(){"use strict";this.$2&&this.$2.abort()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.props.taggerData.equals(a.taggerData)||this.$3(a)};a.prototype.render=function(){"use strict";var a=b("joinClasses")(this.props.className,"_4zq4");return b("React").createElement("div",{className:a,onMouseDown:this.$5,dangerouslySetInnerHTML:this.state.socialText})};a.prototype.$3=function(a){"use strict";__p&&__p();this.$2&&this.$2.abort();a=a.taggerData;var c=a.get("people"),d=a.get("place"),e=a.get("action"),f=a.get("actionIconID"),g=a.get("object"),h=a.get("products"),j=a.get("sponsors"),k=a.get("politicalRepresentativeInfo"),l=a.get("issues"),m=a.get("tagEventData");a=a.get("localAlert").expirationTime;c=c.filter(function(a){return!this.props.peopleToExclude.has(a.getUniqueID())}.bind(this));if(!(c&&c.length>0)&&!d&&!(e&&g)&&!(h&&h.length>0)&&!(j&&j.sponsors.length>0)&&!k.politicalRepresentative&&!(l&&l.length>0)&&!(m&&m.eventID)&&!(a&&a>0)){this.state.socialText&&this.setState({socialText:null});return}var n={};c&&(n.people=c.map(function(a){return a.getUniqueID()}));d&&(n.place=d.getTitle(),n.placeID=d.getUniqueID());h&&(n.productIDs=h.map(function(a){return a.getUniqueID()}));if(j){c=b("ifRequired")("BrandedContentSponsorRelationship",function(a){return j.sponsorRelationship===a.PRESENTED_BY},function(){return!1});c||(n.sponsorIDs=j.sponsors.map(function(a){return a.getUniqueID()}))}l&&(n.issueIDs=l.map(function(a){return a.getUniqueID()}));if(e&&g){n.actionID=e.getUniqueID();d=g.getUniqueID();h=g.getTitle();!d||d===h?n.objectStr=h:n.objectID=d}else k.politicalRepresentative?b("ifRequired")("ContactYourRepresentativeConsts",function(a){n.actionID=a.composer_action_id,n.objectID=k.politicalRepresentative.getUniqueID()}):m&&m.eventID&&b("ifRequired")("TagEventSproutConsts",function(a){n.actionID=a.composer_action_id,n.objectID=m.eventID});f&&(n.actionIconID=f);a&&(n.localAlert=a);n.iconPickerOpened=i!==!0;this.$2=new(b("AsyncRequest"))();this.$2&&this.$2.setURI("/ajax/metacomposer/social_text.php").setData(n).setHandler(this.$4).send()};a.propTypes={ogObjectClick:c.func.isRequired,onTagSummaryClick:c.func.isRequired,peopleToExclude:c.instanceOf(b("immutable").Set).isRequired,placeTokenClick:c.func.isRequired,politicalRepresentativeClick:c.func.isRequired,tagEventClick:c.func.isRequired,taggerData:c.instanceOf(b("immutable").Map).isRequired,withTokenClick:c.func.isRequired,localAlertTokenClick:c.func.isRequired};a.defaultProps={peopleToExclude:b("immutable").Set(),ogObjectClick:b("emptyFunction"),onTagSummaryClick:b("emptyFunction"),placeTokenClick:b("emptyFunction"),politicalRepresentativeClick:b("emptyFunction"),tagEventClick:b("emptyFunction"),withTokenClick:b("emptyFunction"),localAlertTokenClick:b("emptyFunction")};e.exports=a}),null);
__d("ReactComposerTaggerSummaryContainer.react",["cx","Arbiter","React","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactDOM","ShareDialogTagSummary.react","containsNode","immutable"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").createClass({displayName:"ReactComposerTaggerSummaryContainer",_ogSubscription:undefined,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerTaggerStore"))],statics:{calculateState:function(a,c){c=b("ReactComposerTaggerStore").getTaggersData(a);a=c[b("ReactComposerTaggerType").PEOPLE];var d=c[b("ReactComposerTaggerType").LOCATION],e=c[b("ReactComposerTaggerType").ACTIVITY];d=d?d.place:null;var f=c[b("ReactComposerTaggerType").PRODUCT],g=c[b("ReactComposerTaggerType").SPONSOR],h=c[b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE],i=c[b("ReactComposerTaggerType").ISSUE_TAG],j=c[b("ReactComposerTaggerType").TAG_EVENT];c=c[b("ReactComposerTaggerType").LOCAL_ALERTS];return{people:a,place:d,activity:e,products:f,sponsors:g,politicalRepresentativeInfo:h,issues:i,tagEventData:j,localAlert:c}}},UNSAFE_componentWillMount:function(){this._ogSubscription=b("Arbiter").subscribe("composer/ogCustomIconSelected",function(event,a){if(!b("containsNode")(b("ReactDOM").findDOMNode(this.refs.taggerSummary),a.triggerElement))return;var c=b("ReactComposerTaggerStore").getTaggerData(this.context.composerID,b("ReactComposerTaggerType").ACTIVITY)||{};c.actionIconID=a.icon_id;c.actionIconURI=a.iconURI;b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,b("ReactComposerTaggerType").ACTIVITY,c)}.bind(this))},componentWillUnmount:function(){this._ogSubscription&&(this._ogSubscription.unsubscribe&&this._ogSubscription.unsubscribe(),this._ogSubscription=null)},render:function(){return b("React").createElement("div",{className:"_vww","data-testid":"tagger-summary"},b("React").createElement(b("ShareDialogTagSummary.react"),{ogObjectClick:this._ogObjectClick,onTagSummaryClick:this._onTagSummaryClick,peopleToExclude:b("immutable").Set([this.context.actorID]),placeTokenClick:this._placeTokenClick,politicalRepresentativeClick:this._onPoliticalRepresentativeClick,tagEventClick:this._onTagEventClick,localAlertTokenClick:this._localAlertTokenClick,ref:"taggerSummary",taggerData:b("immutable").Map({action:this.state.activity.action,actionIconID:this.state.activity.actionIconID,object:this.state.activity.object,people:this.state.people,place:this.state.place,products:this.state.products,sponsors:this.state.sponsors,politicalRepresentativeInfo:this.state.politicalRepresentativeInfo,issues:this.state.issues,localAlert:this.state.localAlert,tagEventData:this.state.tagEventData}),withTokenClick:this._withTokenClick}))},_withTokenClick:function(){b("ReactComposerTaggerActions").selectTagger(this.context.composerID,b("ReactComposerLoggingName").TAGGER_SUMMARY_PEOPLE,b("ReactComposerTaggerType").PEOPLE)},_placeTokenClick:function(){b("ReactComposerTaggerActions").selectTagger(this.context.composerID,b("ReactComposerLoggingName").TAGGER_SUMMARY_LOCATION,b("ReactComposerTaggerType").LOCATION)},_ogObjectClick:function(){b("ReactComposerTaggerActions").selectTagger(this.context.composerID,b("ReactComposerLoggingName").TAGGER_SUMMARY_MINUTIAE,b("ReactComposerTaggerType").ACTIVITY)},_onTagSummaryClick:function(){b("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,b("ReactComposerLoggingName").TAGGER_SUMMARY_ROW)},_onPoliticalRepresentativeClick:function(){b("ReactComposerTaggerActions").selectTagger(this.context.composerID,b("ReactComposerLoggingName").TAGGER_SUMMARY_CONTACT_YOUR_REPRESENTATIVE,b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE)},_onTagEventClick:function(){b("ReactComposerTaggerActions").selectTagger(this.context.composerID,b("ReactComposerLoggingName").TAGGER_SUMMARY_TAG_EVENT,b("ReactComposerTaggerType").TAG_EVENT)},_localAlertTokenClick:function(){b("ReactComposerTaggerActions").selectTagger(this.context.composerID,b("ReactComposerLoggingName").LOCAL_ALERTS_SPROUT,b("ReactComposerTaggerType").LOCAL_ALERTS)}});e.exports=a}),null);
__d("ReactComposerTaggers.react",["cx","ErrorBoundary.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_1idc"},b("React").Children.map(this.props.children,function(a){return a?b("React").createElement(b("ErrorBoundary.react"),null,a):null}))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerActionTaggerItem.react",["cx","ImageBlock.react","React","TypeaheadViewItem","joinClasses"],(function(a,b,c,d,e,f,g){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerActionTaggerItem",mixins:[b("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({customIcon:a.object},b("TypeaheadViewItem").propTypes),render:function(){var a=this.props.entry,c=a.getAuxiliaryData();c=b("React").createElement("span",{dangerouslySetInnerHTML:c.icon||this.props.customIcon});var d="_599m _5mne"+(this.props.highlighted?" _599n":"")+" _18d1"+(this.props.highlighted?" _18d2":"");d=b("joinClasses")(d,this.props.className);return b("React").createElement("li",{"aria-selected":this.props.highlighted,className:d,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},c,b("React").createElement("div",{className:"_599p"},a.getTitle())),b("React").createElement("i",{className:"_18d3"}))}});e.exports=c}),null);
__d("ReactComposerActionTaggerView.react",["React","ReactComposerActionTaggerItem.react","ReactComposerTaggerViewMixin"],(function(a,b,c,d,e,f){a=b("React").createClass({displayName:"ReactComposerActionTaggerView",mixins:[b("ReactComposerTaggerViewMixin")],getItemImpl:function(){return b("ReactComposerActionTaggerItem.react")}});e.exports=a}),null);
__d("ReactComposerActionTaggerPresenter",["ReactComposerActionTaggerView.react"],(function(a,b,c,d,e,f){e.exports={ViewRenderer:b("ReactComposerActionTaggerView.react"),useLayer:!0,maxEntries:20}}),null);
__d("ReactComposerActionTaggerComponent.react",["cx","fbt","BasicTypeaheadLoggerJSConstants","DummySearchSource","React","ReactComposerActionTaggerPresenter","ReactComposerTaggerViewStyles","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("BasicTypeaheadLoggerJSConstants").Fields;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){"use strict";__p&&__p();i.constructor.call(this,a),this.$1=function(a,event){var b={};b[j.SELECTED_ORIGINAL_ID]=a.getAuxiliaryData().original_id;b[j.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(a.getUniqueID(),a.getType(),a.getOrder(),!!event&&event.button>=0,this.state.query,b);this.props.taggerSource.sessionEnd();this.setState({query:a.getTitle()});this.props.onSelect&&this.props.onSelect(a)}.bind(this),this.$2=function(){this.setState({query:""}),this.props.onSelect&&this.props.onSelect(null)}.bind(this),this.$3=function(event){this.setState({query:event.target.value})}.bind(this),this.$4=function(){this.props.taggerSource.sessionEnd()}.bind(this),this.$5=function(){this.props.taggerSource.sessionStart()}.bind(this),this.$6=function(a,b){this.props.taggerSource.reportRequestID(this.state.query),this.props.taggerSource.reportResults(a.map(function(a){return a.getUniqueID()}))}.bind(this),this.$7=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this),a.taggerSource.sessionStart(),this.state={query:""}}a.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_3uco _5esl"},b("React").createElement(b("XUITypeahead.react"),{presenter:this.$8(),focusedOnInit:this.props.autoFocus,showEntriesOnFocus:!0,placeholder:h._("Choose a feeling or activity..."),className:"_5esx _3ucr",queryString:this.state.query,searchSource:this.props.taggerSource,highlightOnSelect:!0,onSelectAttempt:this.$1,onClear:this.$2,onChange:this.$3,onBlur:this.$4,onFocus:this.$5,onEntriesFound:this.$6,onNoEntriesFound:this.$7,tallInput:!0,autoHighlight:!0}))};a.prototype.$8=function(){"use strict";var a={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},b("ReactComposerActionTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:a})};a.propTypes={autoFocus:c.bool,onSelect:c.func,placeID:c.string,taggerSource:c.oneOfType([c.instanceOf(b("WebAsyncSearchSourceWithMetrics")),c.instanceOf(b("DummySearchSource"))]).isRequired,taggerViewStyle:c.shape(b("ReactComposerTaggerViewStyles").Shape)};a.defaultProps={autoFocus:!0,onSelect:b("emptyFunction"),taggerSource:new(b("DummySearchSource"))(),taggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT};e.exports=a}),null);
__d("ReactComposerActivityTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function(a,b,c,d,e,f,g,h){a=b("React").createClass({displayName:"ReactComposerActivityTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],statics:{taggerID:b("ReactComposerTaggerType").ACTIVITY,loggingName:b("ReactComposerLoggingName").MINUTIAE_TAGGER},getTitle:function(){return h._("Add what you're doing or how you're feeling")},getTooltip:function(){return h._("Add what you're doing or how you're feeling")},getClassName:function(){return"_3tdo"}});e.exports=a}),null);
__d("ReactComposerObjectTaggerItem.react",["cx","BackgroundImage.react","Badge.react","ImageBlock.react","Locale","React","TypeaheadViewItem","UnicodeBidi","joinClasses"],(function(a,b,c,d,e,f,g){a=b("React").createClass({displayName:"ReactComposerObjectTaggerItem",mixins:[b("TypeaheadViewItem").Mixin],propTypes:b("TypeaheadViewItem").propTypes,render:function(){var a=this.props.entry,c=a.getSubtitle()?b("React").createElement("div",{className:"_599q"},a.getSubtitle()):null,d=a.getPhoto()?b("React").createElement(b("BackgroundImage.react"),{width:32,height:32,backgroundSize:"cover",src:a.getPhoto()}):b("React").createElement("span",null),e=a.getAuxiliaryData(),f=e&&e.verified?b("React").createElement(b("Badge.react"),null):null;e=e&&e.icon?b("React").createElement("span",{className:"_mbq",dangerouslySetInnerHTML:e.icon}):null;var g="_599m"+(c?"":" _5mne")+(this.props.highlighted?" _599n":"");g=b("joinClasses")(g,this.props.className);var h=b("UnicodeBidi").isDirectionRTL(a.getTitle()),i=b("Locale").isRTL();h=h&&!i?"rtl":!h&&i?"ltr":null;return b("React").createElement("li",{"aria-selected":this.props.highlighted,className:g,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},d,b("React").createElement("div",null,b("React").createElement("div",{className:"_599p",dir:h},a.getTitle(),f),c),e))}});e.exports=a}),null);
__d("ReactComposerObjectTaggerView.react",["React","ReactComposerActionTaggerItem.react","ReactComposerObjectTaggerItem.react","ReactComposerTaggerViewMixin"],(function(a,b,c,d,e,f){a=b("React").createClass({displayName:"ReactComposerObjectTaggerView",mixins:[b("ReactComposerTaggerViewMixin")],getItemImpl:function(){return b("ReactComposerObjectTaggerItem.react")},getRegexItemImpl:function(){return b("ReactComposerActionTaggerItem.react")}});e.exports=a}),null);
__d("ReactComposerObjectTaggerPresenter",["ReactComposerObjectTaggerView.react"],(function(a,b,c,d,e,f){e.exports={ViewRenderer:b("ReactComposerObjectTaggerView.react"),useLayer:!0,maxEntries:120}}),null);
__d("ReactComposerObjectTaggerComponent.react",["cx","DummySearchSource","Grid.react","ReactComposerObjectTaggerPresenter","ReactComposerTaggerViewStyles","React","RegexMatchSearchSource","BasicTypeaheadLoggerJSConstants","WebAsyncPlusRegexSearchSource","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("Grid.react").GridItem,j=b("BasicTypeaheadLoggerJSConstants").Fields;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){"use strict";__p&&__p();h.constructor.call(this,a);this.$1=function(a,event){var b={};b[j.SELECTED_ORIGINAL_ID]=a.getAuxiliaryData().original_id;b[j.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(a.getUniqueID(),a.getType(),a.getOrder(),!!event&&event.button>=0,this.state.query,b);this.props.taggerSource.sessionEnd();this.setState({query:a.getTitle()});this.props.onSelect(a)}.bind(this);this.$2=function(event){this.props.object&&this.props.object.getTitle()===event.target.value&&this.props.onSelect(null),event.target.value===""&&this.props.onEmptyBackspace()}.bind(this);this.$3=function(){this.setState({query:""}),this.props.onClear()}.bind(this);this.$4=function(event){this.setState({query:event.target.value})}.bind(this);this.$5=function(){this.props.onPrefixClick()}.bind(this);this.$6=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$7=function(){setTimeout(function(){this.props.taggerSource.sessionStart()}.bind(this),0)}.bind(this);this.$8=function(a,b){this.props.taggerSource.reportRequestID(this.state.query),this.props.taggerSource.reportResults(a.map(function(a){return a.getUniqueID()}))}.bind(this);this.$9=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);var c=a.taggerSource,d=a.action.getUniqueID(),e=a.actionTypeIDsWithNoFreeForm;e=!e[d];if(e){d=new(b("RegexMatchSearchSource"))(".+");c=new(b("WebAsyncPlusRegexSearchSource"))({asyncSource:c,regexSource:d,appendRegexEntries:!0})}setTimeout(function(){a.taggerSource.sessionStart()},0);this.state={query:a.object?a.object.getTitle():"",searchSource:c}}a.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};a.prototype.focusInput=function(){"use strict";var a=this.refs.objectTypeahead;a&&(a.focusInput&&a.focusInput())};a.prototype.render=function(){"use strict";var a=this.props.action.getAuxiliaryData();a=a?a.prompt:"";return b("React").createElement(b("Grid.react"),{cols:2,className:"_5esl"},b("React").createElement(i,{className:"_5esm _4zdy",key:"prefix",role:"presentation",onClick:this.$5},this.props.action.getTitle()),b("React").createElement(i,{className:"_5esw",key:"suffix"},b("React").createElement(b("XUITypeahead.react"),{ref:"objectTypeahead",presenter:this.$10(),clearable:!0,focusedOnInit:this.props.autoFocus,autoHighlight:!0,showEntriesOnFocus:!0,placeholder:a,selectedEntry:this.props.object,className:"_5esx _4zdz",queryString:this.state.query,searchSource:this.state.searchSource,highlightOnSelect:!0,onSelectAttempt:this.$1,onBackspace:this.$2,onClear:this.$3,onChange:this.$4,onBlur:this.$6,onEntriesFound:this.$8,onNoEntriesFound:this.$9,onFocus:this.$7,tallInput:!1})))};a.prototype.$10=function(){"use strict";var a={};a.taggerViewStyle=this.props.taggerViewStyle;a.customIcon=this.props.action.getAuxiliaryData().icon;return Object.assign({},b("ReactComposerObjectTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:a})};a.propTypes={action:c.object.isRequired,actionTypeIDsWithNoFreeForm:c.object.isRequired,autoFocus:c.bool,object:c.object,onClear:c.func.isRequired,onEmptyBackspace:c.func.isRequired,onPrefixClick:c.func.isRequired,onSelect:c.func.isRequired,placeID:c.string,taggerSource:c.instanceOf(b("WebAsyncSearchSourceWithMetrics")).isRequired,taggerViewStyle:c.shape(b("ReactComposerTaggerViewStyles").Shape)};a.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:!0,onClear:b("emptyFunction"),onEmptyBackspace:b("emptyFunction"),onPrefixClick:b("emptyFunction"),onSelect:b("emptyFunction"),taggerSource:new(b("DummySearchSource"))(),taggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT};e.exports=a}),null);
__d("ReactComposerObjectTaggerContainer.react",["React","ReactComposerObjectTaggerComponent.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTaggerViewStyles","emptyFunction"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerObjectTaggerContainer",mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerTaggerStore"))],propTypes:{action:a.object.isRequired,autoFocus:a.bool,onClear:a.func.isRequired,onEmptyBackspace:a.func.isRequired,onPrefixClick:a.func.isRequired,onSelect:a.func.isRequired,object:a.object,taggerViewStyle:a.shape(b("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function(){return{autoFocus:!0,onClear:b("emptyFunction"),onEmptyBackspace:b("emptyFunction"),onPrefixClick:b("emptyFunction"),onSelect:b("emptyFunction"),taggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT}},statics:{calculateState:function(a,c){c=b("ReactComposerTaggerStore").getTaggerSource(a,b("ReactComposerTaggerType").OG);return{taggerSource:c}}},render:function(){return b("React").createElement(b("ReactComposerObjectTaggerComponent.react"),babelHelpers["extends"]({ref:"objectTagger"},this.props,{taggerSource:this.state.taggerSource}))},focusInput:function(){var a=this.refs.objectTagger;a&&a.focusInput()}});e.exports=c}),null);
__d("ReactComposerActivityTaggerComponent.react",["DummySearchSource","React","ReactComposerActionTaggerComponent.react","ReactComposerObjectTaggerContainer.react","ReactComposerTaggerViewStyles","WebAsyncSearchSourceWithMetrics","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={action:this.props.taggerData.action,object:this.props.taggerData.object},this.$3=function(a){this.props.onSelect&&this.props.onSelect(this.getTaggerData(a,null)),this.setState({action:a})}.bind(this),this.$2=function(a){this.props.onSelect&&this.props.onSelect(this.getTaggerData(this.state.action,a)),this.setState({object:a})}.bind(this),this.$1=function(){this.props.onSelect&&this.props.onSelect(this.getTaggerData(null,null)),this.setState({action:null,object:null})}.bind(this),b}a.prototype.componentDidUpdate=function(){"use strict";if(this.state.action&&!this.state.object){var a=this.refs.objectTagger;a&&a.focusInput()}};a.prototype.componentWillUnmount=function(){"use strict";this.state.action&&!this.state.object&&this.$1()};a.prototype.render=function(){"use strict";return this.state.action?b("React").createElement(b("ReactComposerObjectTaggerContainer.react"),{ref:"objectTagger",action:this.state.action,actionTypeIDsWithNoFreeForm:this.props.actionTypeIDsWithNoFreeForm,autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,object:this.state.object,onClear:this.$1,onEmptyBackspace:this.$1,onPrefixClick:this.$1,onSelect:this.$2,placeID:this.props.placeID,taggerViewStyle:this.props.objectTaggerViewStyle}):b("React").createElement(b("ReactComposerActionTaggerComponent.react"),{autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,onSelect:this.$3,placeID:this.props.placeID,taggerSource:this.props.taggerSource,taggerViewStyle:this.props.actionTaggerViewStyle})};a.prototype.getTaggerData=function(a,b){"use strict";var c=this.props.taggerData;c.action=a;c.object=b;return c};a.propTypes={actionTypeIDsWithNoFreeForm:c.object.isRequired,actorID:c.string.isRequired,autoFocus:c.bool,placeID:c.string,taggerData:c.object.isRequired,taggerSource:c.oneOfType([c.instanceOf(b("WebAsyncSearchSourceWithMetrics")),c.instanceOf(b("DummySearchSource"))]).isRequired,onSelect:c.func.isRequired,actionTaggerViewStyle:c.shape(b("ReactComposerTaggerViewStyles").Shape),objectTaggerViewStyle:c.shape(b("ReactComposerTaggerViewStyles").Shape)};a.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:!0,taggerData:{},taggerSource:new(b("DummySearchSource"))(),onSelect:b("emptyFunction"),actionTaggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT,objectTaggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT};e.exports=a}),null);
__d("ReactComposerActivityTaggerContainer.react",["Arbiter","BasicTypeaheadLoggerJSConstants","MinutiaeVerbs","React","ReactComposerActivityTaggerComponent.react","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerEvents","ReactComposerLocationAttachmentActions","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactComposerTypeaheadSearchSourceConfig","ReactComposerTypeaheadSearchSourceType","WebAsyncSearchSourceWithMetrics","getObjectValues"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerActivityTaggerContainer",_actionTypeSearchSources:new Map(),_objectSearchSources:new Map(),_searchSourceConfig:null,mixins:[b("ReactComposerTaggerContainerMixin")()],statics:{taggerID:b("ReactComposerTaggerType").ACTIVITY,loggingName:b("ReactComposerLoggingName").MINUTIAE_TAGGER,taggerComponent:b("ReactComposerActivityTaggerComponent.react"),enableHideOnEscape:!0,webDriverTestID:"activity-tagger-component"},propTypes:{actionTypeIDsToPrefetch:a.array.isRequired,actionTypeIDsWithNoFreeForm:a.object.isRequired,isPersonalTimeline:a.bool,rankVerbs:a.bool,placeID:a.string,typeaheadLoggerEventName:a.oneOf(b("getObjectValues")(b("BasicTypeaheadLoggerJSConstants").EventNames)).isRequired,actionTaggerViewStyle:a.shape(b("ReactComposerTaggerViewStyles").Shape),objectTaggerViewStyle:a.shape(b("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function(){return{actionTypeIDsToPrefetch:[],actionTypeIDsWithNoFreeForm:{},isPersonalTimeline:!1,placeID:null,rankVerbs:!1,actionTaggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT,objectTaggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT}},getInitialState:function(){return{hasDoneInitialObjectPrefetch:!1}},UNSAFE_componentWillMount:function(){this._searchSourceConfig=b("ReactComposerTypeaheadSearchSourceConfig")[b("ReactComposerTypeaheadSearchSourceType").ACTIVITY],this._updateActionTypeSearchSource(this.props.placeID),this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData)},UNSAFE_componentWillReceiveProps:function(a){a.placeID!==this.props.placeID&&(this._updateActionTypeSearchSource(a.placeID),this._prefetchObjectSearchSources(a.placeID))},UNSAFE_componentWillUpdate:function(a,b){if(!this.state.isSelected&&b.isSelected){a=this._actionTypeSearchSources.get(this.props.placeID).getTypeaheadSessionID();this._createAndBootstrapActionTypeSearchSource(this.props.placeID,{sid:a});a=this.state.hasDoneInitialObjectPrefetch||b.hasDoneInitialObjectPrefetch;a||this._prefetchObjectSearchSources(this.props.placeID);a=b.taggerData;a.action&&this._updateObjectSearchSource(a.action.getUniqueID())}},_suppressUpdateLogging:function(a){return a.action&&!a.object},__onTaggerDataChanged:function(a){__p&&__p();if(a.action){this._updateObjectSearchSource(a.action.getUniqueID());if(!a.object){var c=this._objectSearchSources.get(a.action.getUniqueID()).getTypeaheadSessionID();this._createAndBootstrapObjectSearchSource(a.action.getUniqueID(),this.props.placeID,{sid:c})}}if(a.action&&a.object){b("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.constructor.loggingName);c=this._shouldFetchMinutiaeAttachment(a.action,a.object);a.shouldRemoveDefaultAttachment&&(c=!1);c&&(a.action.getUniqueID()==b("MinutiaeVerbs").COMPOSER_TRAVELS.toString()?b("ReactComposerLocationAttachmentActions").setMinutiaeActionContext(this.context.composerID,a.object.getUniqueID(),!!this.props.isPersonalTimeline):this._clearMinutiaeLocation(),b("ReactComposerMinutiaeAttachmentActions").fetchMinutiaeAttachment(this.context.composerID,a.action.getUniqueID(),a.object.getUniqueID(),this.context.targetID,this.context.actorID,!!this.props.isPersonalTimeline),setTimeout(function(){b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0))}else b("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null),this._clearMinutiaeLocation()},_clearMinutiaeLocation:function(){b("ReactComposerLocationAttachmentActions").setMinutiaeActionContext(this.context.composerID,null,!!this.props.isPersonalTimeline)},_shouldFetchMinutiaeAttachment:function(a,c){a=b("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,b("ReactComposerAttachmentType").STATUS);if(!a)return!1;return c.getAuxiliaryData().isRegexEntry?!1:!0},_updateActionTypeSearchSource:function(a){var c=null;this._actionTypeSearchSources.has(a)?c=this._actionTypeSearchSources.get(a):(c=this._createAndBootstrapActionTypeSearchSource(a,{is_prefetching:!0}),this._actionTypeSearchSources.set(a,c));b("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,b("ReactComposerTaggerType").ACTIVITY,c)},_createAndBootstrapActionTypeSearchSource:function(a,c){__p&&__p();var d="/ajax/metacomposer/attachment/og/typeahead/bootstrap/action_type_loader";a={place_id:a,rank_verbs:this.props.rankVerbs,viewer:this.props.actorID};var e={getAllForEmptyQuery:!0,bootstrapRequests:[{uri:d,data:Object.assign({},a)}],queryRequests:[],auxiliaryFields:this._searchSourceConfig.action&&this._searchSourceConfig.action.auxiliaryFields};this.props.rankVerbs&&(e.queryRequests=[{uri:d,data:Object.assign({},a)}]);d={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:b("BasicTypeaheadLoggerJSConstants").MinutiaeComposerVersions.REACT,at_id:b("MinutiaeVerbs").COMPOSER_SELECTS_VERB};a=new(b("WebAsyncSearchSourceWithMetrics"))(e,d);e=a.getTypeaheadSessionID();a.setRequestData(c);a.bootstrap();a.setRequestData({sid:e});return a},_prefetchObjectSearchSources:function(a){var b=this.props.actionTypeIDsToPrefetch,c=new Map();b.forEach(function(b){var d=this._createAndBootstrapObjectSearchSource(b,a,{is_prefetching:!0});c.set(b,d)}.bind(this));this._objectSearchSources=c;this.setState({hasDoneInitialObjectPrefetch:!0})},_updateObjectSearchSource:function(a){var c=null;this._objectSearchSources.has(a)?c=this._objectSearchSources.get(a):(c=this._createAndBootstrapObjectSearchSource(a,this.props.placeID,{is_prefetching:!1}),this._objectSearchSources.set(a,c));b("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,b("ReactComposerTaggerType").OG,c)},_createAndBootstrapObjectSearchSource:function(a,c,d){__p&&__p();var e="/ajax/metacomposer/attachment/og/typeahead/query/object_loader";c={at_id:a,place_id:c,viewer:this.props.actorID};e={getAllForEmptyQuery:!0,bootstrapRequests:[{uri:e,data:Object.assign({},c,{is_bootstrap:!0})}],queryRequests:[{uri:e,data:Object.assign({},c,{is_bootstrap:!1})}],auxiliaryFields:this._searchSourceConfig.object&&this._searchSourceConfig.object.auxiliaryFields};c={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:b("BasicTypeaheadLoggerJSConstants").MinutiaeComposerVersions.REACT,at_id:a};a=new(b("WebAsyncSearchSourceWithMetrics"))(e,c);e=a.getTypeaheadSessionID();a.setRequestData(d);a.bootstrap();a.setRequestData({sid:e});return a}});e.exports=c}),null);
__d("BootloadedReactComposerFundraiserTaggerButton.react",["BootloadedComponent.react","JSResource","React","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;return((c=a)!=null?(c=c.taggersConfig)!=null?(c=c[b("ReactComposerTaggerType").FUNDRAISER])!=null?c.enabled:c:c:c)?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerFundraiserTaggerButton.react").__setRef("BootloadedReactComposerFundraiserTaggerButton.react"),bootloadPlaceholder:b("React").createElement("div",null),source:a.source}):null}e.exports=a}),null);
__d("BootloadedReactComposerFundraiserTaggerContainer.react",["BootloadedComponent.react","JSResource","React","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";function a(a){return((a=a)!=null?(a=a.taggersConfig)!=null?(a=a[b("ReactComposerTaggerType").FUNDRAISER])!=null?a.enabled:a:a:a)?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerFundraiserTaggerContainer.react").__setRef("BootloadedReactComposerFundraiserTaggerContainer.react"),bootloadPlaceholder:b("React").createElement("div",null)}):null}e.exports=a}),null);
__d("ReactComposerImplicitLocationComponent.react",["cx","React","XUICloseButton.react","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerImplicitLocationComponent",propTypes:{caption:a.string.isRequired,hasExplicitLocation:a.bool,onClear:a.func},defaultProps:{onClear:b("emptyFunction")},render:function(){if(!this.props.caption)return b("React").createElement("noscript",null);var a=this.props.hasExplicitLocation?null:b("React").createElement(b("XUICloseButton.react"),{className:"_3s32",size:"small",onClick:this._onClear}),c="_3s33"+(this.props.hasExplicitLocation?" _3s34":"");return b("React").createElement("span",{className:c},b("React").createElement("span",null,this.props.caption.split(",")[0]),a)},_onClear:function(event){event.stopPropagation(),this.props.onClear&&this.props.onClear()}});e.exports=c}),null);
__d("ReactComposerImplicitLocationContainer.react",["AsyncRequest","React","ReactComposerImplicitLocationComponent.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","URI"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").createClass({displayName:"ReactComposerImplicitLocationContainer",mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerTaggerStore"))],statics:{calculateState:function(a,c){c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").LOCATION)||{};a=c.implicitLocation||{};return{caption:a.citystring,hasExplicitLocation:!!c.place}}},render:function(){return!this.state.caption?b("React").createElement("noscript",null):b("React").createElement(b("ReactComposerImplicitLocationComponent.react"),babelHelpers["extends"]({},this.state,{onClear:this._onClear}))},_onClear:function(){var a=b("ReactComposerTaggerStore").getTaggerData(this.context.composerID,b("ReactComposerTaggerType").LOCATION)||{};a.implicitLocation=null;b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,b("ReactComposerTaggerType").LOCATION,a);a=new(b("URI"))("/ajax/places/toggle_location_sharing").addQueryData({disable:1,session_id:a.sessionID});new(b("AsyncRequest"))(a).send()}});e.exports=a}),null);
__d("ReactComposerLocationTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function(a,b,c,d,e,f,g,h){a=b("React").createClass({displayName:"ReactComposerLocationTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],statics:{taggerID:b("ReactComposerTaggerType").LOCATION,loggingName:b("ReactComposerLoggingName").LOCATION_TAGGER},getTitle:function(){return h._("Tag a location")},getTooltip:function(){return h._("Check In")},getClassName:function(){return"_3gqo"}});e.exports=a}),null);
__d("ReactComposerLocationTypeaheadComponent.react",["fbt","React","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){"use strict";__p&&__p();h.constructor.call(this,a);this.$9=function(){return Object.assign({},this.props.taggerData)}.bind(this);this.$8=function(a,event){this.props.taggerSource.reportSelect(a.getUniqueID(),a.getType(),a.getOrder(),!!event&&event.button>=0,this.state.query);this.props.taggerSource.sessionEnd();var b=this.$9();b.place=a;this.setState({query:a.getTitle()});this.props.onSelect&&this.props.onSelect(b)}.bind(this);this.$3=function(event){this.setState({query:event.target.value})}.bind(this);this.$1=function(event){this.state.query===event.target.value&&this.$10()}.bind(this);this.$4=function(){this.$10(),this.setState({query:""})}.bind(this);this.$2=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$6=function(){this.props.taggerSource.sessionStart()}.bind(this);this.$5=function(a,b){this.props.taggerSource.reportRequestID(this.state.query),this.props.taggerSource.reportResults(a.map(function(a){return a.getUniqueID()}))}.bind(this);this.$7=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);a.taggerSource.sessionStart();var b={};a.defaultLocation?b.query=a.defaultLocation:b.query=a.taggerData.place?a.taggerData.place.getTitle():"";this.state=b}a.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUITypeahead.react"),{autoHighlight:!0,className:this.props.className,clearable:!0,focusedOnInit:this.props.autoFocus,highlightOnSelect:!0,initialEntry:this.props.taggerData.place,onBackspace:this.$1,onBlur:this.$2,onChange:this.$3,onClear:this.$4,onEntriesFound:this.$5,onFocus:this.$6,onNoEntriesFound:this.$7,onSelectAttempt:this.$8,placeholder:this.props.placeholder,presenter:this.props.presenter,queryString:this.state.query,searchSource:this.props.taggerSource,selectedEntry:this.props.taggerData.place,showEntriesOnFocus:!0,tallInput:!1,"data-testid":"composer-tagger-typeahead"})};a.prototype.$10=function(){"use strict";var a=this.$9();a.place=null;this.props.implicitLocationEnabled||(a.implicitLocation=null);this.props.onSelect&&this.props.onSelect(a)};a.propTypes={autoFocus:c.bool,defaultLocation:c.string,implicitLocationEnabled:c.bool,onSelect:c.func,placeholder:c.string,presenter:c.object,taggerData:c.object.isRequired,taggerSource:c.instanceOf(b("WebAsyncSearchSourceWithMetrics")).isRequired};a.defaultProps={autoFocus:!0,implicitLocationEnabled:!1,onSelect:b("emptyFunction"),placeholder:g._("Where are you?"),taggerData:{}};e.exports=a}),null);
__d("ReactComposerLocationTaggerComponent.react",["cx","fbt","Grid.react","ReactComposerLocationTypeaheadComponent.react","ReactComposerTaggerPresenter","ReactComposerTaggerViewStyles","React","WebAsyncSearchSourceWithMetrics"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("Grid.react").GridItem;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("Grid.react"),{cols:2,className:"_5esl"},b("React").createElement(j,{key:"prefix",className:"_5esm"},h._("At")),b("React").createElement(j,{key:"tagger",className:"_5esw"},b("React").createElement(b("ReactComposerLocationTypeaheadComponent.react"),babelHelpers["extends"]({},this.props,{className:"_5esx _1wqz",presenter:this.$1()}))))};a.prototype.$1=function(){"use strict";var a={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},b("ReactComposerTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:a,maxEntries:15})};function a(){"use strict";i.apply(this,arguments)}a.propTypes={autoFocus:c.bool,implicitLocationEnabled:c.bool,onSelect:c.func,placeholder:c.string,taggerData:c.object.isRequired,taggerSource:c.instanceOf(b("WebAsyncSearchSourceWithMetrics")).isRequired,taggerViewStyle:c.shape(b("ReactComposerTaggerViewStyles").Shape)};a.defaultProps={taggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT};e.exports=a}),null);
__d("ReactComposerLocationTaggerContainer.react",["BasicTypeaheadLoggerJSConstants","MinutiaeVerbs","PlaceSearchConstants","React","ReactComposerLocationAttachmentActions","ReactComposerLocationAttachmentStore","ReactComposerLocationSearchSource","ReactComposerLocationTaggerComponent.react","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","ReactComposerTaggerViewStyles","areEqual","emptyFunction","getObjectValues"],(function(a,b,c,d,e,f){__p&&__p();a=b("BasicTypeaheadLoggerJSConstants").EventNames;c=b("React").PropTypes;d=b("React").createClass({displayName:"ReactComposerLocationTaggerContainer",_taggerSourceInitialized:!1,mixins:[b("ReactComposerTaggerContainerMixin")()],propTypes:{hideGeoHubs:c.bool,implicitLocationEnabled:c.bool,mediaLocation:c.shape({latitude:c.number.isRequired,longitude:c.number.isRequired}),onSelect:c.func.isRequired,taggerConfig:c.object,taggerViewStyle:c.shape(b("ReactComposerTaggerViewStyles").Shape),typeaheadLoggerEventName:c.oneOf(b("getObjectValues")(a)).isRequired,typeaheadSearchSource:c.oneOf(b("getObjectValues")(b("PlaceSearchConstants"))).isRequired},getDefaultProps:function(){return{hideGeoHubs:!1,onSelect:b("emptyFunction"),taggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT}},UNSAFE_componentWillMount:function(){this._taggerSourceInitialized||(this._setNewSearchSource(this.props),this._taggerSourceInitialized=!0,this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData))},UNSAFE_componentWillReceiveProps:function(a){b("areEqual")(a.mediaLocation,this.props.mediaLocation)||this._setNewSearchSource(a)},statics:{taggerID:b("ReactComposerTaggerType").LOCATION,loggingName:b("ReactComposerLoggingName").LOCATION_TAGGER,taggerComponent:b("ReactComposerLocationTaggerComponent.react"),enableHideOnEscape:!0,webDriverTestID:"location-tagger-component"},__onTaggerDataChanged:function(a){var c=a.place&&a.place.getAuxiliaryData();c&&(a.implicitLocation={cityid:c.cityID,citypageid:c.cityPageID,citystring:c.cityName});var d=b("ReactComposerLocationAttachmentStore").getMinutiaeTaggedPlace(this.context.composerID),e=b("ReactComposerLocationAttachmentStore").getIsTimeline(this.context.composerID);c=function(a,c,f,g){b("ReactComposerMinutiaeAttachmentActions").setExplicitLocation(a,f),d&&b("ReactComposerMinutiaeAttachmentActions").fetchMinutiaeAttachment(a,b("MinutiaeVerbs").COMPOSER_TRAVELS.toString(),d,c,g,e)};a.place?(c(this.context.composerID,this.context.targetID,a.place.getUniqueID(),this.context.actorID),b("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.constructor.loggingName),b("ReactComposerLocationAttachmentActions").fetchLocationAttachment(this.context.composerID,a.place.getUniqueID(),this.context.targetID)):(c(this.context.composerID,this.context.targetID,null,this.context.actorID),b("ReactComposerLocationAttachmentActions").setMarkup(this.context.composerID,null))},_setNewSearchSource:function(a){var c={latitude:(a.mediaLocation||{}).latitude,longitude:(a.mediaLocation||{}).longitude},d={hide_geo:a.hideGeoHubs,latitude:(a.mediaLocation||{}).latitude,longitude:(a.mediaLocation||{}).longitude};a={event_name:a.typeaheadLoggerEventName,event_specific_data:{context:"places_typeahead:"+a.typeaheadSearchSource,source:a.typeaheadSearchSource,ref:"ReactComposerLocationTypeaheadComponent.react"}};c=b("ReactComposerLocationSearchSource")(c,d,a);b("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,b("ReactComposerTaggerType").LOCATION,c)}});e.exports=d}),null);
__d("ReactComposerPeopleTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","CurrentUser"],(function(a,b,c,d,e,f,g,h){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerPeopleTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],propTypes:{isMultiCompanyGroup:a.bool},statics:{taggerID:b("ReactComposerTaggerType").PEOPLE,loggingName:b("ReactComposerLoggingName").PEOPLE_TAGGER},getTitle:function(){return b("CurrentUser").isWorkUser()&&!this.props.isMultiCompanyGroup?h._("Tag Colleagues"):h._("Tag people")},getTooltip:function(){return b("CurrentUser").isWorkUser()&&!this.props.isMultiCompanyGroup?h._("Tag colleagues in your post"):h._("Tag people in your post")},getClassName:function(){return"_51y3"}});e.exports=c}),null);
__d("ReactComposerPeopleTaggerTokenizerToken.react",["cx","React","SearchableEntry","TokenizerToken.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(){"use strict";return b("React").createElement("span",{className:"_jsa"})};a.prototype.render=function(){"use strict";var a=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox;a=(a?"_jsb":"")+" _jsc";return b("React").createElement(b("TokenizerToken.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,a),glyph:this.$1()}))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={label:c.string.isRequired,entry:c.instanceOf(b("SearchableEntry")).isRequired,onRemove:c.func,highlighted:c.bool};e.exports=a}),null);
__d("ReactComposerPeopleTaggerComponent.react",["cx","fbt","Grid.react","ReactComposerPeopleTaggerTokenizerToken.react","ReactComposerTaggerPresenter","ReactComposerTaggerViewStyles","TaggingLimits","React","XUITokenizer.react","emptyFunction","CurrentUser"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("Grid.react").GridItem;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){var b=this.props.taggerData,c=a.getUniqueID(),d=b.some(function(a){return a.getUniqueID()===c});if(d)return;else b.push(a);this.props.onSelect&&this.props.onSelect(b)}.bind(this),this.$2=function(a){var b=this.props.taggerData,c=b.indexOf(a);if(c==-1)return;b.splice(c,1);this.props.onPeopleTagRemove&&this.props.onPeopleTagRemove(a);this.props.onSelect&&this.props.onSelect(b)}.bind(this),b}a.prototype.render=function(){"use strict";var a={};this.props.actorID&&(a[this.props.actorID]=!0);return b("React").createElement(b("Grid.react"),{cols:2,className:"_5esl"},b("React").createElement(j,{key:"label",className:"_5esm"},h._("With")),b("React").createElement(j,{key:"tokenizer",className:"_5esw"},b("React").createElement(b("XUITokenizer.react"),babelHelpers["extends"]({presenter:this.$3(),focusedOnInit:this.props.autoFocus,excludedEntries:a,entries:this.props.taggerData,className:"_5esx _2fzs",placeholder:this.props.placeholder,searchSource:this.props.taggerSource,onAddEntryAttempt:this.$1,onRemoveEntryAttempt:this.$2,limit:b("TaggingLimits").MAX_WITH_TAGS,testID:"people-tagger"},this.props))))};a.prototype.$3=function(){"use strict";var a=this.props.taggerConfig&&this.props.taggerConfig.presenter?this.props.taggerConfig.presenter:b("ReactComposerTaggerPresenter"),c={};c.taggerViewStyle=this.props.taggerViewStyle;c.viewProps=this.props.taggerConfig&&this.props.taggerConfig.typeaheadViewProps;return Object.assign({},a,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:c,TokenRenderer:b("ReactComposerPeopleTaggerTokenizerToken.react")})};a.propTypes={actorID:c.string,autoFocus:c.bool,placeholder:c.string,taggerConfig:c.object,taggerData:c.array.isRequired,taggerSource:c.object.isRequired,onPeopleTagRemove:c.func,onSelect:c.func,taggerViewStyle:c.shape(b("ReactComposerTaggerViewStyles").Shape)};a.defaultProps=function(){var a=h._("Who are you with?");b("CurrentUser").isWorkUser()&&(a=h._("Who do you want to tag?"));return{autoFocus:!0,onSelect:b("emptyFunction"),placeholder:a,taggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT,taggerData:[]}}();e.exports=a}),null);
__d("ReactComposerPeopleTaggerContainer.react",["ComposerTestID","React","ReactComposerLoggingName","ReactComposerPeopleTaggerComponent.react","ReactComposerPhotoActions","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerHideOnEscapeKeyPress.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerPeopleTaggerContainer",mixins:[b("ReactComposerTaggerContainerStateMixin")()],propTypes:{actorID:a.string,taggerConfig:a.object,taggerViewStyle:a.shape(b("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function(){return{taggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT}},statics:{taggerID:b("ReactComposerTaggerType").PEOPLE},render:function(){return!this.state.isSelected?b("React").createElement("noscript",null):b("React").createElement("div",{"data-testid":b("ComposerTestID").PEOPLE_TAGGER},b("React").createElement(b("ReactComposerTaggerHideOnEscapeKeyPress.react"),{shouldHideOnEscape:this.state.isSelected},b("React").createElement(b("ReactComposerPeopleTaggerComponent.react"),babelHelpers["extends"]({},this.props,{autoFocus:this.state.autoFocus,onPeopleTagRemove:this._onPeopleTagRemove,onSelect:this._onTaggerDataChanged,taggerData:this.state.taggerData,taggerSource:this.state.taggerSource}))))},_onTaggerDataChanged:function(a){b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,b("ReactComposerLoggingName").PEOPLE_TAGGER,b("ReactComposerTaggerType").PEOPLE,a),this.props.onSelect&&this.props.onSelect(a)},_onPeopleTagRemove:function(a){b("ReactComposerPhotoActions").untagSubjectFromAllPhotos(this.context.composerID,a.getUniqueID())}});e.exports=c}),null);
__d("ReactComposerStickerComponent.react",["ix","cx","fbt","Arbiter","Image.react","React","ReactComposerEvents","ReactComposerLoggingName","ReactComposerPrefillStore","ReactComposerTaggerActions","ReactComposerTaggerType","ShimButton.react","Sticker.react","StickerAssetType","StickerConstants","StickerUtils","XStickerAssetController","fbglyph"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$3=function(){b("ReactComposerTaggerActions").setTaggerData(this.props.composerID,b("ReactComposerLoggingName").STICKER_SPROUT,b("ReactComposerTaggerType").STICKER,null)}.bind(this),this.$4=function(){var a=b("ReactComposerPrefillStore").getAndEraseNestedField(this.props.composerID,["taggersData",b("ReactComposerTaggerType").STICKER]);a&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.props.composerID,b("ReactComposerTaggerType").STICKER,a)}.bind(this),c}a.prototype.render=function(){"use strict";if(!(this.props.sticker&&this.props.sticker.stickerID))return null;var a=b("StickerUtils").getScaledDimensions(b("StickerConstants").TRAY_SIZE,b("StickerConstants").TRAY_SIZE,b("StickerConstants").TRAY_SIZE),c=a.height;a=a.width;var d=b("XStickerAssetController").getURIBuilder().setInt("sticker_id",this.props.sticker.stickerID);c=b("React").createElement(b("Sticker.react"),{accessibilityLabel:this.props.sticker.accessibilityLabel,animationTrigger:"load_and_hover",frameCount:1,frameRate:b("StickerConstants").DEFAULT_FRAME_RATE,framesPerCol:1,framesPerRow:1,sourceHeight:c,sourceURI:d.setEnum("image_type",b("StickerAssetType").IMAGE).getURI().toString(),sourceWidth:a,stickerID:this.props.sticker.stickerID.toString(),className:"_x85"});return b("React").createElement("div",{className:"_x88"},b("React").createElement("span",{className:"_x8a"},c,this.$2()))};a.prototype.$2=function(){"use strict";return b("React").createElement(b("ShimButton.react"),{className:"_x8b",onClick:this.$3},b("React").createElement(b("Image.react"),{alt:i._("Remove Sticker"),src:g("125920")}))};a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$4(),this.$1=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this.$4)};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.unsubscribe(),this.$1=null};e.exports=a}),null);
__d("ReactComposerSessionMetricsActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({KEYSTROKE:null,PASTE:null},"ReactComposerSessionMetricsActionTypes")}),null);
__d("ReactComposerSessionMetricsStore",["NavigationMetrics","ReactComposerAttachmentActionType","ReactComposerSessionMetricsActionTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f){__p&&__p();var g,h=-1;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";__p&&__p();var a;g.constructor.call(this,function(){b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.NAVIGATION_DONE,function(b,c){b=c.tti;a.ttiTimestamp=b});return{composerStartTime:null,keystrokeCount:0,pasteCount:0}},function(c){switch(c.type){case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:a&&a.$ReactComposerSessionMetricsStore1(c);break;case b("ReactComposerSessionMetricsActionTypes").KEYSTROKE:a&&a.$ReactComposerSessionMetricsStore2(c);break;case b("ReactComposerSessionMetricsActionTypes").PASTE:a&&a.$ReactComposerSessionMetricsStore3(c);break}});this.ttiTimestamp=h;a=this}a.prototype.getComposerEntryTime=function(a){"use strict";if(this.ttiTimestamp==h)return 0;else return Math.round((this.getComposerData(a).composerStartTime-this.ttiTimestamp)/1e3)};a.prototype.getComposerStartTime=function(a){"use strict";return this.getComposerData(a).composerStartTime};a.prototype.getKeystrokeCount=function(a){"use strict";return this.getComposerData(a).keystrokeCount};a.prototype.getPasteCount=function(a){"use strict";return this.getComposerData(a).pasteCount};a.prototype.$ReactComposerSessionMetricsStore1=function(a){"use strict";a=this.validateAction(a,"composerID");a=this.getComposerData(a);a.composerStartTime||(a.composerStartTime=Date.now())};a.prototype.$ReactComposerSessionMetricsStore2=function(a){"use strict";a=this.validateAction(a,"composerID");a=this.getComposerData(a);a.keystrokeCount++};a.prototype.$ReactComposerSessionMetricsStore3=function(a){"use strict";a=this.validateAction(a,"composerID");a=this.getComposerData(a);a.pasteCount++};e.exports=new a()}),null);
__d("ReactComposerPromptsActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({SET_MINUTIAE_DATA:null,SET_PROMPT_DATA:null,SET_PROMPT_XHP:null,SET_MEME_CATEGORY_ID:null},"ReactComposerPromptsActionTypes")}),null);
__d("ReactComposerPromptsStore",["ReactComposerPromptsActionTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";var a;g.constructor.call(this,function(){return{promptData:null,promptXHP:null}},function(b){a&&a.handler(b)});a=this}a.prototype.handler=function(a){"use strict";__p&&__p();switch(a.type){case b("ReactComposerPromptsActionTypes").SET_MINUTIAE_DATA:this.$ReactComposerPromptsStore1(a);break;case b("ReactComposerPromptsActionTypes").SET_PROMPT_DATA:this.$ReactComposerPromptsStore2(a);break;case b("ReactComposerPromptsActionTypes").SET_PROMPT_XHP:this.$ReactComposerPromptsStore3(a);break;case b("ReactComposerPromptsActionTypes").SET_MEME_CATEGORY_ID:this.$ReactComposerPromptsStore4(a);break;default:}};a.prototype.$ReactComposerPromptsStore1=function(a){"use strict";a=this.validateAction(a,["composerID","minutiaeData"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.minutiaeData=a};a.prototype.getMinutiaeData=function(a){"use strict";return this.getComposerData(a).minutiaeData};a.prototype.$ReactComposerPromptsStore2=function(a){"use strict";a=this.validateAction(a,["composerID","promptData"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.promptData=a};a.prototype.getPromptData=function(a){"use strict";return this.getComposerData(a).promptData};a.prototype.$ReactComposerPromptsStore3=function(a){"use strict";a=this.validateAction(a,["composerID","promptXHP"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.promptXHP=a;this.emitChange(b)};a.prototype.getPromptXHP=function(a){"use strict";return this.getComposerData(a).promptXHP};a.prototype.$ReactComposerPromptsStore4=function(a){"use strict";a=this.validateAction(a,["composerID","memeCategoryID"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.memeCategoryID=a};a.prototype.getMemeCategoryID=function(a){"use strict";return this.getComposerData(a).memeCategoryID};e.exports=new a()}),null);
__d("PhotoEditorLoggingConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_IMAGE_STICKER:"composer_sticker",COMPOSER_IMAGE_TEXT_OVERLAY:"composer_text_overlay",COMPOSER_IMAGE_HAS_CROP:"composer_has_crop",COMPOSER_IMAGE_HAS_FILTER:"composer_has_filter",COMPOSER_IMAGE_CUSTOM_ACCESSIBILITY_CAPTION:"composer_custom_accessibility_caption"})}),null);
__d("PlaceAttachmentSetting",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HIDE_ATTACHMENT:1,SHOW_ATTACHMENT:2})}),null);
__d("QuestionPollTypeJSEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NON_POLL:0,CHOOSE_ONE:1,CHOOSE_MULTIPLE:2,RANKED:3,GIF_CHOOSE_ONE:4,IMAGE_CHOOSE_ONE:5,VISUAL_TEXT_CHOOSE_ONE:6,IMAGE_CHOOSE_MULTIPLE:7})}),null);
__d("ReactComposerPostUtilsCore",["invariant","ReactComposerActions"],(function(a,b,c,d,e,f,g){a={getCoreData:function(a,b,c){!isNaN(c)&&c>0||g(0,5885);return Object.assign({is_react:!0,xhpc_composerid:a,xhpc_targetid:c},b)},handlePostSucceeded:function(a){b("ReactComposerActions").postSucceeded(a),b("ReactComposerActions").reset(a)}};e.exports=a}),null);
__d("ReactComposerPostDataUtils",["ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerEventAttachmentStore","ReactComposerLoggingStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMinutiaeAttachmentStore","ReactComposerPhotoStore","ReactComposerPostUtilsCore","ReactComposerPromptsStore","ReactComposerScrapedAttachmentStore","ReactComposerSelectedImagesStore","ReactComposerSessionMetricsStore","ReactComposerSlideshowAudioStore","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ComposerXMarauderLogger","flattenPHPQueryData","formatDate","getMentionsTextForContentState","ifRequired","isNumberLike","PlaceAttachmentSetting","PhotoEditorLoggingConstants","PhotoEditorSaveStates","PhotosUploadWaterfallApplications","PUWApplications","QuestionPollTypeJSEnum","SlideshowUtil"],(function(a,b,c,d,e,f){__p&&__p();a={getPostData:function(a){__p&&__p();var c=a.composerID,d=a.targetID,e=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").PEOPLE)||[],f=[];e.forEach(function(a){f.push(a.getUniqueID())});e=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").PRODUCT)||[];e=e.filter(function(a){return!a.getAuxiliaryData().isFacebox});e=e.map(function(a){return a.getUniqueID()});var g=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").ISSUE_TAG)||[];g=g.map(function(a){return a.getUniqueID()});var h=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE),i=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").TAG_EVENT),j=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").ACTIVITY),k=[],l=[],m=[],n;j&&j.action&&j.object?(k.push(j.action.getUniqueID()),n=j.actionIconID,b("isNumberLike")(j.object.getUniqueID())&&j.object.getUniqueID()!==j.object.getTitle()?(l.push(j.object.getUniqueID()),m.push("")):m.push(j.object.getTitle())):h.politicalRepresentative?b("ifRequired")("ContactYourRepresentativeConsts",function(a){k.push(a.composer_action_id),l.push(h.politicalRepresentative.getUniqueID()),m.push("")}):i&&i.eventID&&b("ifRequired")("TagEventSproutConsts",function(a){k.push(a.composer_action_id),l.push(i.eventID),m.push("")});j=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").STICKER);j=j&&j.stickerID?j.stickerID:0;var o=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").ASSET_3D),p=b("ReactComposerTaggerStore").isDisabled(c,b("ReactComposerTaggerType").ASSET_3D);p=o&&o.asset3dID&&!p?o.asset3dID:null;o=b("ReactComposerMinutiaeAttachmentStore").getHideObjectAttachment(c);var aa=b("ifRequired")("ReactComposerLocationAttachmentStore",function(a){return a.getMarkup(c)!==null?b("PlaceAttachmentSetting").SHOW_ATTACHMENT:b("PlaceAttachmentSetting").HIDE_ATTACHMENT},function(){return b("PlaceAttachmentSetting").HIDE_ATTACHMENT}),q=[],r=[],s="";b("ifRequired")("ReactComposerMultilingualStatusStore",function(a){q=a.getMessages(c),r=a.getLanguageDialects(c),s=a.getSpecifiedPostLanguage(c)});var t=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").FUNDRAISER);t=t?t.charityID:null;var u=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").GROUP_JOIN_CTA);u=u?u.groupID:null;var v=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS);v=v?v.gameID:null;var w=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").LOCATION),x=b("ReactComposerEventAttachmentStore").getEventID(c),y=null;x&&(y={event_id:x});x=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").TAG_EVENT_TICKET);x&&x.ticketedEventData&&(y={event_id:x.ticketedEventData.getUniqueID(),use_ticket_cta:!0});x=w?w.place:null;var z;if(b("ReactComposerTaggerStore").hasBackdate(c)){var A=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").BACKDATE);z={year:this._sanitizeDateField(A.year),month:this._sanitizeDateField(A.month),day:this._sanitizeDateField(A.day),hour:this._sanitizeDateField(A.hour),minute:this._sanitizeDateField(A.minute)}}A=w&&w.implicitLocation?w.implicitLocation.citypageid:null;var B=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").SPONSOR)||{},C={directShareStatus:B.directShareStatus,sponsorRelationship:B.sponsorRelationship,sponsors:[]};B.sponsors.map(function(a){C.sponsors.push(a.getUniqueID())});B=b("ReactComposerAudienceStore").getCollectionID(c);var D=null;if(!B){var E=b("ReactComposerAudienceStore").getLegacyAudience(c);E&&(D=[{value:E}])}E=a.useHints;var F=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").TARGETING),G=F&&!B?E?F.hints:F.targeting:null;G!=null&&(!E&&G.fan_of&&(G.fan_of=G.fan_of.map(function(a){return a.id})),b("ifRequired")("AdsAPITargetFields",function(a){a&&G&&G[a.INTERESTS]&&(G[a.INTERESTS]=G[a.INTERESTS].map(function(a){return a.id}))}));E=F&&!B?F.gating:null;b("ifRequired")("PagesComposerUnpublishedPostsStore",function(a){a=a.getStopFeedDistributionTime(c);a!==null&&(G||(G={}),G["relevant-until-date"]=b("formatDate")(a,"m/d/Y",{skipPatternLocalization:!0}),G["relevant-until-time"]=60*(60*a.getHours()+a.getMinutes()))});var H=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT);H&&(H.showStart==1&&H.showEnd==100||H.showStart==null&&H.showEnd==null?H=null:H={showStart:H.showStart,showEnd:H.showEnd});var ba=b("ifRequired")("PagesComposerBoostedPostsStore",function(a){return a.getConfig(c)},function(){return null}),I=p?null:b("ReactComposerScrapedAttachmentStore").getAttachmentConfig(c);I===null&&(b("ifRequired")("ReactComposerCTAStore",function(a){I=a.getAttachmentConfig(c)}),I===null&&b("ifRequired")("ReactComposerCollectionStore",function(a){I=a.getAttachmentConfig(c)}));var J=!1,K=null;b("ifRequired")("ReactComposerCTAAttachmentUtils",function(a){J=a.isCTAAttachmentSelected(c)});J&&b("ifRequired")("ReactComposerCTAStore",function(a){K=a.getCTAData(c)});var L=b("ReactComposerTaggerStore").hasData(c,b("ReactComposerTaggerType").BREAKING_NEWS),M=0;L&&(M=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").BREAKING_NEWS).expirationTime);L&&M>0&&I&&I.params.url&&(I.params.breaking_news_selected=L,I.params.breaking_news_expiration=M);var ca=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").LOCAL_ALERTS).expirationTime,N=b("ReactComposerTaggerStore").hasMarkdown(c);b("ifRequired")("ReactComposerMarkdownStore",function(a){N=N||a.isMarkdownEnabled(c)});var da=b("ifRequired")("ReactComposerPostToGroupStore",function(a){return a.getIsTabSelected(c)},function(){return!1}),ea=b("ReactComposerTaggerStore").getPoliticalDistrictInfo(c);F!==null&&!!F.woodhengeInfo&&(E||(E={}),E.woodhenge_info=F.woodhengeInfo);F!==null&&!!F.videoCreatorTopFanPageID&&(E||(E={}),E.top_fans_video_creator=F.videoCreatorTopFanPageID);F!==null&&!!F.newsSubscribersInfo&&(E||(E={}),E.news_subscribers_info=F.newsSubscribersInfo);F=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").CONTENT_WARNINGS);F!=null&&(F=F.map(function(a){return a.getUniqueID()}));var O=null;b("ifRequired")("ReactComposerTopicFeedsTaggerStore",function(a){a.getIsDarkLaunch(c)||(O=a.getTaggedTopics(c).toArray())});var P=null;b("ifRequired")("ReactComposerGroupPostTagsTaggerStore",function(a){P=a.getPostTagIDs(c)});var Q=b("ReactComposerPromptsStore").getPromptData(c),R=b("ReactComposerSessionMetricsStore").getComposerStartTime(c),S=null;R&&(S=Math.round((Date.now()-R)/1e3));R=!1;b("ifRequired")("ReactComposerProfileBadgeStore",function(a){R=a.hasProfileBadge(c)});var T=b("ComposerXMarauderLogger").getInstance(c),fa=T&&T.ref,ga=T&&T.composerSourceSurface,U=a.composerConfig.attachmentsConfig&&a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],V=U&&U.richTextEditor,W=!1;U&&U.isWelcomeToGroupPost&&(W=!0);U=B?null:b("ReactComposerAudienceStore").getAudience(c);var X=null;b("ifRequired")("ReactComposerFindPlayersStore",function(a){var b=a.getTitle(c),d=a.getName(c);a=a.getTags(c);(b||d||a)&&(X={title:b,tags:a,name:d})});var Y=null;b("ReactComposerStore").getRankerRequestID(c)&&(Y={RequestID:b("ReactComposerStore").getRankerRequestID(c)});var ha=null,Z=I&&I.readOnly;Z&&(ha={xc_disable_link:Z});Z=null;b("ifRequired")("ReactComposerCivicEngagementStore",function(a){Z=a.getCivicProductSource(c)});V=b("ReactComposerStatusStore").getMessage(c,V&&!N);var $=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").FUN_FACT),ia=null,ja=null;$&&($.promptID?ia=$.promptID:$.isAskPost&&V&&(ja={prompt_title:V},V=null));$=b("ifRequired")("ReactComposerCulturalMomentHolidayCardStore",function(a){return a.getHolidayCardData(c)},function(){return null});var ka=b("ReactComposerAudienceStore").getStoriesSelected(c),la=b("ReactComposerAudienceStore").getTimelineSelected(c);return Object.assign(babelHelpers["extends"]({},b("ReactComposerStatusStore").getRichTextBlocks(c),{action_type_id:k,album_id:B,asset3d_id:p,asked_fun_fact_prompt_data:ja,attachment:I,audience:D,backdated_date:z,boosted_post_config:ba,breaking_news_expiration:M,breaking_news_selected:L,cta_data:K,charity_id:t,composer_entry_point:fa,composer_entry_time:b("ReactComposerSessionMetricsStore").getComposerEntryTime(c),composer_session_id:b("ReactComposerLoggingStore").getSessionID(c),composer_session_duration:S,composer_source_surface:ga,composer_type:T&&T.composerType,composertags_city:A,composertags_issues:g,composertags_place:x&&x.getUniqueID()||A,composertags_place_name:x&&x.getTitle(),composertags_with:f,composertags_sponsors:C.sponsors,civic_product_source:Z,direct_share_status:C.directShareStatus,sponsor_relationship:C.sponsorRelationship,composertags_product_items:e,content_warnings:F,extensible_sprouts_ranker_request:Y,feed_targeted_data:G,feed_topics:O,find_players_info:X,fun_fact_prompt_id:ia,group_post_tag_ids:P,group_join_target_id:u,hide_object_attachment:o,icon_id:n,is_explicit_place:!!x,is_markdown:N,is_post_to_group:da,is_welcome_to_group_post:W,is_q_and_a:b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").QANDA),is_profile_badge_post:R,political_district_info:ea,story_list_attachment_data:this._getListAttachmentData(c),local_alert_expiration:ca,multilingual_statuses:q,multilingual_status_langs:r,multilingual_specified_lang:s,num_keystrokes:b("ReactComposerSessionMetricsStore").getKeystrokeCount(c),num_pastes:b("ReactComposerSessionMetricsStore").getPasteCount(c),object_id:l,object_str:m,place_attachment_setting:aa,play_with_friends_game_id:v,poll_question_data:this._getVisualPollAttachmentData(c),privacyx:U,prompt_id:Q?Q.promptID:null,prompt_tracking_string:Q?Q.trackingString:null,publisher_abtest_holdout:H,ref:b("ReactComposerStore").getRef(c),stories_selected:ka,todo_list_data:this._getTodoListAttachmentData(c),timeline_selected:la,xc_sticker_id:j,event_tag:y,tagger_session_id:w&&w.sessionID,target_type:b("ReactComposerStore").getTargetType(c),targeted_privacy_data:E,xhpc_message:V,xhpc_message_text:b("ReactComposerStatusStore").getMessageText(c),is_forced_reshare_of_post:I&&I.reshare_original_post,xc_disable_config:ha,delight_ranges:b("ReactComposerStatusStore").getDelightRanges(c),holiday_card:$}),this._getScrapedAttachmentData(I),b("ReactComposerPostUtilsCore").getCoreData(c,a.composerConfig.contextInfo,d))},getMediaUploadsData:function(a,c){var d=b("ReactComposerPhotoStore").getPhotos(a);c=c.filter(function(a){return a.mediaType===b("ReactComposerMediaUploadType").VIDEO?!0:d.some(function(b){return b.id===a.photoID})});return this.getMediaDataWithoutFiltering(a,c)},getMediaDataWithoutFiltering:function(a,c){var d=c.map(function(a){return a.photoID}).toArray(),e=c&&c.size>0?c.first().holidayCardID:null;e=e?{holiday_card_id:e,source:"promo"}:null;var f=b("ReactComposerSlideshowStore").isSlideshowSelected(a),g=null;f&&(g=this._getSlideshowSpec(a));return Object.assign({application:b("PhotosUploadWaterfallApplications").COMPOSER,composer_unpublished_photo:d,qn:b("ReactComposerLoggingStore").getSessionID(a),slideshow_spec:g,waterfallxapp:b("PUWApplications").WEB_REACT_COMPOSER,xy_tags:this._getXYTagData(a),holiday_card:e},this._getCreativeEditingToolsData(c))},_sanitizeDateField:function(a){return!a||a===-1||a===0?null:a},_getSlideshowSpec:function(a){var c=b("ReactComposerSlideshowAudioStore").getSelectedStorylineMood(a),d=null;c!=null&&(d=c.moodID);c=b("ReactComposerSlideshowStore").getDurationInMS(a);var e=b("ReactComposerSlideshowStore").getTransitionInMS(a),f=b("ReactComposerSelectedImagesStore").getNumberOfImages(a);c=b("SlideshowUtil").getTotalLengthInSec(c,f);f=b("SlideshowUtil").getDurationParam(f,c,e);return{photo_ids:b("ReactComposerSelectedImagesStore").getPhotoIDs(a),images_crops:b("ReactComposerSelectedImagesStore").getImagesCrops(a),photo_duration:f.durationInMS,photo_transition_duration:f.transitionInMS,storyline_mood_id:d}},_getXYTagData:function(a){var c=b("ReactComposerPhotoStore").getAllTaggedFaceboxes(a).map(function(a){return{fbid:a.get("photoID"),x:a.get("x"),y:a.get("y"),name:a.get("taggedValue"),subject:a.get("taggedSubjectID"),from_facebox:!0,source:a.get("isMagicTag")?"composerx_suggestions":"composerx_flyout"}});a=b("ReactComposerPhotoStore").getAllXYTags(a).map(function(a){return{fbid:a.get("photoID"),x:a.get("x"),y:a.get("y"),name:a.get("name"),subject:a.get("subject"),from_facebox:a.get("from_facebox"),source:a.get("source")}});return c.concat(a)},_getCreativeEditingToolsData:function(a){__p&&__p();var c={},d={},e={},f={},g={};a.forEach(function(a){var h=a.get("photoID");a=b("PhotoEditorSaveStates").getLoggingData(a.get("originalPhotoID"));a&&(c[h]=a.hasFilter?!0:null,d[h]=a.hasCrop?!0:null,e[h]=a.textOverlays,f[h]=a.stickers,a.customAccessibilityCaption&&(g[h]=a.customAccessibilityCaption))});a={};a[b("PhotoEditorLoggingConstants").COMPOSER_IMAGE_HAS_FILTER]=c;a[b("PhotoEditorLoggingConstants").COMPOSER_IMAGE_HAS_CROP]=d;a[b("PhotoEditorLoggingConstants").COMPOSER_IMAGE_CUSTOM_ACCESSIBILITY_CAPTION]=g;a[b("PhotoEditorLoggingConstants").COMPOSER_IMAGE_TEXT_OVERLAY]=e;a[b("PhotoEditorLoggingConstants").COMPOSER_IMAGE_STICKER]=f;return a},_getScrapedAttachmentData:function(a){return!a||!a.params||a.readOnly?null:{xc_share_params:JSON.stringify(a.params),xc_share_target_type:a.type,xc_share_images:a.params.images,xc_share_title:a.params.title,xc_share_summary:a.params.summary,xc_link_url:a.params.url}},_getListAttachmentData:function(a){__p&&__p();var c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").LIST),d=null;c&&b("ifRequired")("ReactComposerListStore",function(c){var e=c.getListTitle(a),f=c.getListItems(a),g=c.getSelectedListStyle(a),h=c.getSelectedListColor(a),i=c.getListColors(a),j=c.getListPrompts(a);c=c.getSelectedListPrompt(a);var k=c!==-1?j[c].prompt_id:null;j=c!==-1?j[c].is_fun_fact_prompt:!1;var l=[];f.forEach(function(a){var c=a.getCurrentContent().getPlainText();c.trim().length>0&&l.push({description:b("getMentionsTextForContentState")(a.getCurrentContent())})});d={original_list_id:null,create_story_list_action_link:null,list_style:g,title:b("getMentionsTextForContentState")(e.getCurrentContent()),items:l,text_format_preset_id:i[h].preset_id,fun_fact_prompt_id:j?k:null,prompt_id:j?null:k}});return d},_getTodoListAttachmentData:function(a){var c=1,d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").TODO_LIST),e=null;d&&b("ifRequired")("ReactComposerListStore",function(d){var f=d.getListTitle(a),g=d.getListItems(a),h=d.getDesiredVolunteerCountList(a);d=g.filter(function(a){return a.getCurrentContent().getPlainText().trim().length>0}).map(function(a,d){return{title:b("getMentionsTextForContentState")(a.getCurrentContent()),desired_volunteer_count:h.get(d,c)}});e={title:b("getMentionsTextForContentState")(f.getCurrentContent()),items:d}});return e},_getVisualPollAttachmentData:function(a){__p&&__p();var c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").VISUAL_POLL),d=null;c&&b("ifRequired")("ReactComposerQuestionStore",function(c){__p&&__p();var e=c.isRelativeEndTime(a),f=c.getVisualPollEndTimeInMillis(a),g=!0,h=0,i=0;e?i=Math.round(f/1e3):h=Math.round(f/1e3);e=c.getIsResultsHidden(a);f=c.getVisualPollNumOptions(a);var j=c.getVisualPollOptionTexts(a),k=c.getVisualPollOptionGifUrls(a),l=b("ReactComposerMediaUploadStore").getUploads(a);l=this.getMediaUploadsData(a,l).composer_unpublished_photo;c=c.getVisualPollOptionImageIndices(a);var m=[],n=0,o=0;for(var p=0;p<f;p++)m.push({}),p<j.length&&j[p]?m[p].text=j[p]:g=!1,p<k.length&&k[p]?(m[p].external_image_url=k[p],n+=1):p<c.length&&c[p]>=0&&c[p]<l.length&&(m[p].associated_image_id=l[c[p]],o+=1);p=n+o===m.length?b("QuestionPollTypeJSEnum").GIF_CHOOSE_ONE:b("QuestionPollTypeJSEnum").VISUAL_TEXT_CHOOSE_ONE;g&&(d={text:b("ReactComposerStatusStore").getMessage(a),hidden_results:e?!0:null,question_type:p,poll_end_time:h,relative_poll_end_time:i,options:m})}.bind(this));return d},createFormData:function(a){__p&&__p();var c={};Object.keys(a).forEach(function(b){if(a[b]!==undefined&&a[b]!==null){var d=a[b]instanceof Object;if(!d)c[b]=a[b];else{d=!Object.values(a[b]).every(function(a){return a===undefined||a===null});d&&(c[b]=a[b])}}});var d=new FormData(),e=b("flattenPHPQueryData")(c);Object.keys(e).forEach(function(a){d.append(a,e[a])});return d},getGroupMeetupData:function(a){var c=null;b("ifRequired")("ReactComposerGroupMeetUpStore.react",function(b){c={meet_up_location_page:b.getPageID(a),meet_up_date_string:b.getDateString(a),meet_up_day_time:b.getDayTime(a),meet_up_rough_time:b.getRoughTimeID(a),meet_up_street_address:b.getLocationName(a)}});return{meetup_info:c}},isEmptyAttachment:function(a,c){__p&&__p();var d=c.composerID,e=c.actorID;c=c.targetID;var f=b("ReactComposerAttachmentStore").getSelectedAttachmentID(d),g=b("ReactComposerTaggerStore").areAllTaggersEmptyExcluding(d,[b("ReactComposerTaggerType").FORMATTED_TEXT,b("ReactComposerTaggerType").TARGETING,b("ReactComposerTaggerType").SPONSOR]),h=b("ReactComposerStatusStore").getMessageText(d).trim();if(f===b("ReactComposerAttachmentType").STATUS){if(h||!g)return!1;g=this.getPostData({actorID:e,composerConfig:a,composerID:d,targetID:c});return!g.attachment}if(f===b("ReactComposerAttachmentType").MEDIA){if(h)return!1;if(b("ReactComposerScrapedAttachmentStore").hasAttachment(d))return!1;e=b("ReactComposerMediaUploadStore").getUploadsCount(d);return e===0}return!1}};e.exports=a}),null);
__d("XVideoPermalinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{vanity}/videos/{?set_token}/{video_id}/{?story_token}/",{photo_id:{type:"Int"},set_token:{type:"String"},type:{type:"Enum",defaultValue:3,enumType:0},link_share:{type:"String"},subject:{type:"Int"},object_id:{type:"Int"},opaque_cursor:{type:"String"},legacy_user_id:{type:"Int"},legacy_photo_id:{type:"Int"},video_id:{type:"Int"},comment_id:{type:"Int"},notif_t:{type:"String"},is_notification_preview:{type:"Bool",defaultValue:!1},force_theater:{type:"Bool",defaultValue:!1},story_token:{type:"String"},vanity:{type:"String"},__tn__:{type:"String"},reply_comment_id:{type:"Int"}})}),null);
__d("VideoPermalinkText.react",["cx","React","XUITextInput.react","XVideoPermalinkController"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(){"use strict";return b("XVideoPermalinkController").getURIBuilder().setInt("video_id",this.props.videoID).setString("vanity",this.props.targetID).getURI().getQualifiedURI().toString()};a.prototype.render=function(){"use strict";return b("React").createElement(b("XUITextInput.react"),{className:"_9_1",value:this.$1(),size:85,height:"tall",ref:"permalink_field",onFocus:function(){return this.refs.permalink_field.getTextFieldDOM().select()}.bind(this)})};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("VideoUploadProcessingDialog.react",["fbt","ActorURI","PublishingToolsSource","React","VideoEditSource","VideoLibraryButton.react","VideoLibrarySource","VideoPermalinkText.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCloseButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XVideoEditController","XVideoEditDialogController"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={dialogShown:!0},this.$1=function(a){this.setState({dialogShown:a}),!a&&this.props.onClose&&this.props.onClose()}.bind(this),this.$2=function(){this.setState({dialogShown:!1})}.bind(this),this.$4=function(){return this.props.isSecretVideo?g._("Processing secret video"):g._("Processing Video")}.bind(this),b}a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";a.show&&this.setState({dialogShown:!0})};a.prototype.$3=function(){"use strict";if(this.props.isReferenceVideo)return g._("Your reference file is now processing. We will send you a notification when it's ready and monitored.");else if(this.props.isSecretVideo)return b("React").createElement("div",null,g._("Your secret video is now processing. We will notify you when it is it ready to view at the following location:"),b("React").createElement(b("VideoPermalinkText.react"),{targetID:String(this.context&&this.context.targetID||this.props.pageID),videoID:this.props.videoID}));else return g._("Your video is now being processed. We will send you a notification when it's ready to view.")};a.prototype.render=function(){"use strict";var a,c=g._("Edit Video"),d;this.props.isReferenceVideo?d=null:this.props.shouldShowNewEditDialog&&this.props.pageID?(a=b("XVideoEditDialogController").getURIBuilder().setInt("video_id",this.props.videoID).setEnum("source",b("VideoEditSource").PROCESSING_DIALOG).getURI(),a=b("ActorURI").create(a,this.props.pageID),d=b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",label:c,href:a,onClick:this.$2,rel:"dialog"})):(a=b("XVideoEditController").getURIBuilder().setInt("v",this.props.videoID).setEnum("source",b("VideoEditSource").PROCESSING_DIALOG).getURI(),d=b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",label:c,href:a,onClick:this.$2,target:"_blank"}));c=null;this.props.shouldShowVideoLibrary&&(c=b("React").createElement(b("VideoLibraryButton.react"),{pageID:this.props.pageID,size:"medium",source:b("VideoLibrarySource").VIDEO_UPLOAD_CONFIRMATION_DIALOG,refSource:b("PublishingToolsSource").VIDEO_UPLOAD_CONFIRMATION_DIALOG}));return b("React").createElement(b("XUIDialog.react"),{shown:this.state.dialogShown,width:400,onToggle:this.$1,key:"dialog"},b("React").createElement(b("XUIDialogTitle.react"),null,this.$4()),b("React").createElement(b("XUIDialogBody.react"),null,this.$3()),b("React").createElement(b("XUIDialogFooter.react"),{leftContent:c},b("React").createElement(b("XUIDialogCloseButton.react"),null),d))};a.propTypes={onClose:c.func,shouldShowNewEditDialog:c.bool,isReferenceVideo:c.bool,shouldShowVideoLibrary:c.bool};e.exports=a}),null);
__d("BrandedContentSharedToSponsorStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOT_SHARED:0,ALL_SHARED:1})}),null);
__d("BrandedContentSponsorRelationship",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WITH:0,PAID_RELATIONSHIP_WITH:1,PRESENTED_BY:2,SOCIAL_TAGGING:3})}),null);
__d("CommerceProductTaggerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"none",SHOP_PAGE:"shop_page",NON_SHOP_PAGE:"non_shop_page",INFLUENCER_PAGE:"influencer_page"})}),null);
__d("XVideoEditDialogSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/edit/dialog/save/",{v:{type:"Int",required:!0},premiere_custom_profile_image_focus_x:{type:"Float"},premiere_custom_profile_image_focus_y:{type:"Float"},feed_background_image_focus_x:{type:"Float"},feed_background_image_focus_y:{type:"Float"},mature_content_rating:{type:"Enum",enumType:0},funded_content_program:{type:"Enum",enumType:0}})}),null);